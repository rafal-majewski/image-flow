import{b as R,E as k,h as u,r as H,H as L,i as O,j as Y,s as F,k as b,m as v,a as h,p as A,U,o as g,c as o,q as j,t as B,g as C,v as M,S as P}from"./o6UChuPi.js";function m(a,t,[r,i]=[0,0]){u&&r===0&&g();var f=a,s=null,c=null,l=U,p=r>0?k:0,e=!1;const q=(T,n=!0)=>{e=!0,E(n,T)},E=(T,n)=>{if(l===(l=T))return;let S=!1;if(u&&i!==-1){if(r===0){const I=H(f);I===L?i=0:I===O?i=1/0:(i=parseInt(I.substring(1)),i!==i&&(i=l?1/0:-1))}const D=i>r;!!l===D&&(f=Y(),F(f),b(!1),S=!0,i=-1)}l?(s?v(s):n&&(s=h(()=>n(f))),c&&A(c,()=>{c=null})):(c?v(c):n&&(c=h(()=>n(f,[r+1,i]))),s&&A(s,()=>{s=null})),S&&b(!0)};R(()=>{e=!1,t(q),e||E(null,null)},p),u&&(f=o)}function w(a,t,r){u&&g();var i=a,f,s;R(()=>{f!==(f=t())&&(s&&(A(s),s=null),f&&(s=h(()=>r(i,f))))},k),u&&(i=o)}function N(a,t){return a===t||(a==null?void 0:a[P])===t}function z(a={},t,r,i){return j(()=>{var f,s;return B(()=>{f=s,s=[],C(()=>{a!==r(...s)&&(t(a,...s),f&&N(r(...f),a)&&t(null,...f))})}),()=>{M(()=>{s&&N(r(...s),a)&&t(null,...s)})}}),a}export{z as b,w as c,m as i};
