import{b as R,E as k,h as u,H as L,j as O,r as Y,s as o,k as b,m as v,a as A,p as E,U as F,o as p,c as g,q as U,t as j,i as B,v as C,S as M}from"./B2bjRoan.js";function Z(a,t,[r,i]=[0,0]){u&&r===0&&p();var f=a,s=null,c=null,n=F,q=r>0?k:0,e=!1;const D=(T,l=!0)=>{e=!0,h(l,T)},h=(T,l)=>{if(n===(n=T))return;let S=!1;if(u&&i!==-1){if(r===0){const I=f.data;I===L?i=0:I===O?i=1/0:(i=parseInt(I.substring(1)),i!==i&&(i=n?1/0:-1))}const H=i>r;!!n===H&&(f=Y(),o(f),b(!1),S=!0,i=-1)}n?(s?v(s):l&&(s=A(()=>l(f))),c&&E(c,()=>{c=null})):(c?v(c):l&&(c=A(()=>l(f,[r+1,i]))),s&&E(s,()=>{s=null})),S&&b(!0)};R(()=>{e=!1,t(D),e||h(null,null)},q),u&&(f=g)}function m(a,t,r){u&&p();var i=a,f,s;R(()=>{f!==(f=t())&&(s&&(E(s),s=null),f&&(s=A(()=>r(i,f))))},k),u&&(i=g)}function N(a,t){return a===t||(a==null?void 0:a[M])===t}function w(a={},t,r,i){return U(()=>{var f,s;return j(()=>{f=s,s=[],B(()=>{a!==r(...s)&&(t(a,...s),f&&N(r(...f),a)&&t(null,...f))})}),()=>{C(()=>{s&&N(r(...s),a)&&t(null,...s)})}}),a}export{w as b,m as c,Z as i};
